#
# Global Variables
#
set -gx fish_greeting ""
set -gx VISUAL "nvim"
{{- if eq .chezmoi.os "linux" }}
set -gx TERMINAL "alacritty"

#
# Display related vars
#
{{- if .is_x11 }}
unset WAYLAND_DISPLAY
unset GDK_BACKEND
set -gx GDK_BACKEND "x11"
set -gx DISPLAY :0.0
{{- else if .is_wayland }}
unset GDK_BACKEND
unset DISPLAY
set -gx WAYLAND_DISPLAY "wayland-0"
set -gx GDK_BACKEND "wayland"
{{- else if .is_wsl }}
{{- if (contains "microsoft-standard-WSL2" .chezmoi.kernel.osrelease) }}
set -gx DISPLAY (awk '/nameserver / {print $2; exit}' /etc/resolv.conf 2>/dev/null):0
set -gx LIBGL_ALWAYS_INDIRECT 1
{{ end -}}
{{ end }}

#
# PATHS (requires fish 3.2)
#
fish_add_path /bin
fish_add_path /usr/bin
fish_add_path ~/bin
fish_add_path ~/.local/bin
fish_add_path /usr/local/bin
fish_add_path /snap/bin

# Go PATH
fish_add_path /usr/local/go/bin
fish_add_path ~/go/bin

# Rust PATH
fish_add_path ~/.cargo/bin 

{{ end -}}
